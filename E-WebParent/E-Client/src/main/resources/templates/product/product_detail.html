<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <head th:replace="fragments :: page_head(${pageTitle}, 'tag')"/>
    <link th:href="@{/star-rating/css/star-rating.css}" media="all" rel="stylesheet" type="text/css"/>
    <script th:src="@{/star-rating/js/star-rating.js}" type="text/javascript"></script>
    <link th:href="@{/star-rating/themes/krajee-svg/theme.css}" media="all" rel="stylesheet" type="text/css"/>
    <script th:src="@{/star-rating/themes/krajee-svg/theme.js}"></script>
</head>

<body class="inner">
<!-- preloader begin -->
<div class="preloader">
    <img th:src="@{/images/loader.gif}" alt="Gif">
</div>
<!-- preloader end -->


<!--------------------------------- HEADER SECTION START --------------------------------->
<span th:replace="header_section2:: content"></span>
<!--------------------------------- HEADER SECTION END --------------------------------->

<!--------------------------------- SHOP SECTION START --------------------------------->
<div class="shop-details py-120">
    <div class="container">
        <div class="product-view-area">
            <div class="row">
                <div class="col-xl-6 col-lg-5 col-md-6">
                    <div class="part-img">
                        <div class="img-box">
                            <img id="bigImage" th:src="@{${product.mainImagePath}}" alt="Image" index="0"
                                 width="500px;">

                        </div>
                        <div class="btn-box">
                            <th:block th:each="extraImage, status : ${product.images}">
                                <button class="small-thumb active">
                                    <img class="image-thumbnail" th:src="@{${extraImage.imagePath}}"
                                         th:index="${status.count}" alt="image">
                                </button>
                            </th:block>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 col-lg-7 col-md-6">
                    <div class="part-txt">
                        <h2 class="main-product-title">[[${product.name}]]</h2>
                        <div class="row">
                            <div class="col-xs">
					<span><input type="text" class="product-detail-rating-star" dir="ltr" data-size="md"
                                 th:value="${product.averageRating}"/></span>
                                <span class="rating-amount"><a th:href="@{${product.URI} + '#review'}">[[${product.reviewCount}]] rating(s)</a></span>
                                &nbsp;
                                <span class="rating-amount"><a th:href="@{${product.URI} + '#qa'}">[[${numberOfAnsweredQuestions}]] answered questions</a></span>
                            </div>

                        </div>
                        <br>
                        <div>
                            <b style="color: Chocolate;">Digital List Price:</b>
                            <span th:if="${product.discountPercent <= 0}"><div>[[${product.price}]]</div></span>
                            <del class="price" th:if="${product.discountPercent > 0}"><span><div>[[${product.price}]]</div></span>
                            </del>
                        </div>
                        <div th:if="${product.discountPercent > 0}">
                            <b style="color: IndianRed;">Kindle Price:</b>
                            <span style="font-size: larger; color: darkred"><div>[[${product.discountPrice}]]</div></span>
                        </div>
                        <ul class="short-details">
                            <li>Availability: <span th:if="${product.inStock}" class="text-success">In stock</span>
                                <span th:unless="${product.inStock}" class="text-danger">Out of Stock</span>
                            </li>
                            <li>Shop: <span>[[${product.shop.name}]]</span></li>
                            <li>Brands: <span>[[${product.brand.name}]]</span></li>
                        </ul>
                        <p th:utext="${product.shortDescription}" class="dscr"></p>

                    </div>
                </div>
            </div>
        </div>
        <div class="details-area">
            <nav>
                <div class="nav" id="nav-tab" role="tablist">
                    <button class="nav-link active" id="nav-dscr-tab" data-bs-toggle="tab" data-bs-target="#nav-dscr"
                            type="button" role="tab" aria-controls="nav-dscr" aria-selected="true">Description
                    </button>
                    <button class="nav-link" id="nav-info-tab" data-bs-toggle="tab" data-bs-target="#nav-info"
                            type="button" role="tab" aria-controls="nav-info" aria-selected="false">Information
                    </button>
                    <button class="nav-link" id="nav-review-tab" data-bs-toggle="tab" data-bs-target="#nav-review"
                            type="button" role="tab" aria-controls="nav-review" aria-selected="false">Reviews
                    </button>
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-dscr" role="tabpanel" aria-labelledby="nav-dscr-tab"
                     tabindex="0">
                    <div class="product-dscr">
                        <div th:utext="${product.fullDescription}"></div>
                    </div>
                </div>
            </div>
        </div>
        <div th:replace="product/question_answer :: content"></div>
        <div th:replace="reviews/reviews_votes :: content"></div>

    </div>
</div>
</div>
</div>
</div>
</div>
<!--------------------------------- SHOP SECTION END --------------------------------->
<div th:replace="fragments :: modal_dialog"></div>

<!--------------------------------- FOOTER SECTION START --------------------------------->
<span th:replace="footer:: footer"></span>
<!--------------------------------- FOOTER SECTION END --------------------------------->
<script type="text/javascript">
    contextPath = "[[@{/}]]";
    productId = "[[${product.id}]]";
    var csrfHeaderName = "[[${_csrf.headerName}]]";
    var csrfValue = "[[${_csrf.token}]]";

    decimalSeparator = "[[${DECIMAL_POINT_TYPE == 'COMMA' ? ',' : '.'}]]";
    thousandSeparator = "[[${THOUSANDS_POINT_TYPE == 'COMMA' ? ',' : '.'}]]";

    $(document).ready(function() {
        bigImage = $("#bigImage");

        $(".image-thumbnail").mouseover(function() {
            currentImageSource = $(this).attr("src");
            currentImageIndex = $(this).attr("index");

            bigImage.attr("src", currentImageSource);
            bigImage.attr("index", currentImageIndex);
        });

        bigImage.on("click", function() {
            $("#carouselModal").modal("show");
            imageIndex = parseInt(bigImage.attr("index"));
            $("#carouselExampleIndicators").carousel(imageIndex);
        });

        $(".linkVoteReview").on("click", function(e) {
            e.preventDefault();
            doVote($(this), "review");
        });

        $(".linkVoteQuestion").on("click", function(e) {
            e.preventDefault();
            doVote($(this), "question");
        });
    });

</script>

<script type="text/javascript" th:src="@{/js/jquery.number.min.js}"></script>
<script type="text/javascript" th:src="@{/js/common_rating.js}"></script>
<script type="text/javascript" th:src="@{/js/common_modal.js}"></script>
<script type="text/javascript" th:src="@{/js/quantity_control.js}"></script>
<script type="text/javascript" th:src="@{/js/add_to_cart.js}"></script>
<script type="text/javascript" th:src="@{/js/common_vote.js}"></script>
<script type="text/javascript" th:src="@{/js/question_post.js}"></script>
<script th:src="@{/vendor/js/jquery.nice-select.min.js}"></script>
<script th:src="@{/vendor/js/jquery.flagstrap.min.js}"></script>
<script th:src="@{/vendor/js/slick.min.js}"></script>
<script th:src="@{/vendor/js/owl.carousel.min.js}"></script>
<script th:src="@{/vendor/js/jquery.syotimer.min.js}"></script>
<script th:src="@{/vendor/js/jquery-modal-video.min.js}"></script>
<script th:src="@{/vendor/js/nouislider.min.js}"></script>
<script th:src="@{/vendor/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/js/main.js}"></script>

</body>

</html>